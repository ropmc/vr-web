<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Videosphere</title>
    <meta name="description" content="Videosphere - A-Frame">
    <script src="aframe-master.js"></script>
    <script src="play-on-click.js"></script>
    <script src="hide-on-play.js"></script>
    <script>
        // Register a custom A-Frame component
        AFRAME.registerComponent('renderer-custom-properties', {
          init: function() {
            // This will be called once when the component is attached to the entity.
  
            // Get the Three.js renderer from the A-Frame scene.
            var renderer = this.el.sceneEl.renderer;
  
            // Now we have direct access to the Three.js renderer and can modify its properties.
            if (renderer) {
              // Set autoClear to false, so the renderer doesn't automatically clear before rendering.
              renderer.autoClear = false;
            }
          }
        });
        // This will be our script to force VR mode.
        window.addEventListener('load', function () {
          // we need to wait until the scene is loaded before trying to switch to VR mode
          var scene = document.querySelector('a-scene');
          if (scene.hasLoaded) {
            scene.enterVR();
          } else {
            scene.addEventListener('loaded', function () {
              scene.enterVR();
            });
          }
        });
    </script>

    <style>
        body {
          height: 200vh; /* Set body height to 200% of viewport height */
        }

        .jump{
            height: 200px;
            position:relative;
            z-index: 0;
        }
      </style>
  </head>
  <body>

    <div class="jump"></div>
    <a-scene>
      <a-assets>
        <!--
        SOURCE
        Author: Bitmovin
        URL:    https://bitmovin.com/demos/vr-360
        -->
        <video id="video" preload="auto"
               src="export1.mp4"
               autoplay loop="true"
               crossOrigin="anonymous"></video>
      </a-assets>
      <a-videosphere
        rotation="0 -90 0"
        src="#video"
        visible="false"
        play-on-click>
      </a-videosphere>

      <a-camera position="0 1.6 0">
        <a-entity position="-0.032 0 0"></a-entity> <!-- Left eye -->
        <a-entity position="0.032 0 0"></a-entity> <!-- Right eye -->
      </a-camera>
    </a-scene>
    <script src="main.js"></script>
  </body>
</html>